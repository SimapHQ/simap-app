/**
 * SIMAP DATA MODEL
 *
 * Simap needs to store various kinds of data. Summary:
 *
 * Users:
 * - UID
 *
 * Categories:
 * - Name (String)
 * - Color (String)
 *
 * Items:
 * - Name (String)
 * - Color (String)
 * - Category (Category ID)
 * - Amount (Number) (Use primary unit)
 * - Plan: (Plan ID)
 * - Units (Object with Unit ID's as keys)
 * - Primary Unit (Unit ID)
 *
 * Family Size:
 * - Number of Children (Number)
 * - Number of Adults (Number)
 *
 * Storage Goal:
 * - Number of days (Number)
 *
 * Unit:
 * - Name (String)
 *
 * Unit Conversion:  1 [Start Unit] = [Ratio] [End Unit]
 * - Start Unit     (Unit ID)
 * - Ratio          (Number)
 * - End Unit       (Unit ID)
 *
 * Item Plan:
 * - Type (String [baseline,ration])
 * - Baseline:
 *   - Amount (Number)
 *   - Unit (Unit ID)
 * - Rationed
 *   - Adult - key
 *     - Amount (Number)
 *     - Unit (Unit ID)
 *     - Time Unit (String) (Day, Week, Month, Year) 
 *   - Child
 *     - Amount (Number)
 *     - Unit (Unit ID)
 *     - Time (String) (day, week, month, year)
 *
 * Each user's data is totally distinct from every other user's data. There is no mixing
 * at all. I could nest each users' data under their UID, but, after reading Firebase's 
 * documentation, I don't think that's the best way to do it. Instead, Each type of data
 * will be a top-level group (Category, Item, Family, Unit, etc.) but each instance of a
 * data type will also have an 'owner' attribute. Then, security rules will enforce that
 * a logged in user may only read and write data that they own. This will keep the data
 * structure relatively flat, and allow for fast lookups.
 */

{

  /**
   * USERS
   */
  "user": {
    "facebook_719340624782538" : {
      "displayName" : "BenandBrittney Draut",
      "provider" : "facebook",
      "provider_uid" : "719340624782538",
      "uid": "facebook_719340624782538",
      "family": "family_id1",
      "goal": "goal_id1",
      "categories": {
        "category_id1": true,
        "category_id3": true
      },
      "items": {
        "item_id2": true,
        "item_id3": true
      }
    },
    "github_2808759" : {
      "displayName" : "Ben Draut",
      "provider" : "github",
      "provider_uid" : "2808759",
      "uid": "github_2808759",
      "family": "family_id2",
      "goal": "goal_id2",
      "categories": {
        "category_id2": true
      },
      "items": {
        "item_id1": true
      }
    },
  },

  /**
   * CATEGORIES
   */
  "category": {
    "category_id1": {
      "name": "Vegetables",
      "color": "44ff55",
      "owner": "facebook_719340624782538"
    },
    "category_id2": {
      "name": "Household Supplies",
      "color": "3b3bf9",
      "owner": "github_2808759"
    },
    "category_id3": {
      "name": "Meats and Proteins",
      "color": "222222",
      "owner": "facebook_719340624782538"
    }
  },

  /**
   * FAMILY SIZES
   */
  "family": {
    "family_id1": {
      "adults": 2,
      "children": 5,
      "owner": "facebook_719340624782538"
    },
    "family_id2": {
      "adults": 2,
      "children": 0,
      "owner": "github_2808759"
    }
  },

  /**
   * STORAGE GOALS
   */
  "goal": {
    "goal_id1": {
      "days": 90,
      "owner": "facebook_719340624782538"
    },
    "goal_id2": {
      "days": 365,
      "owner": "github_2808759"
    }
  },

  /**
   * ITEMS
   */
  "item": {
    "item_id1": {
      "name": "Dish Soap",
      "color": "888888",
      "category_id": "category_id2",
      "amount": 4,
      "plan": "plan_id1",
      "units": {
        "unit_id1": true,
        "unit_id2": true
      },
      "primary_unit": "unit_id1",
      "owner": "github_2808759"
    },
    "item_id2": {
      "name": "Corn",
      "color": "ffffff",
      "category_id": "category_id1",
      "amount": 17.43,
      "plan": "plan_id2",
      "units": {
        "unit_id3": true,
        "unit_id4": true
      },
      "primary_unit": "unit_id3",
      "owner": "facebook_719340624782538"
    },
    "item_id3": {
      "name": "Beans",
      "color": "00ff00",
      "category_id": "category_id1",
      "amount": 12,
      "plan": "plan_id3",
      "units": {
        "unit_id5": true,
        "unit_id6": true
      },
      "primary_unit": "unit_id6",
      "owner": "facebook_719340624782538"
    }
  },

  /**
   * UNITS
   */
  "unit": {
    "unit_id1": {
      "name": "40oz Bottle",
      "owner": "github_2808759"
    },
    "unit_id2": {
      "name": "8oz Bottle",
      "owner": "github_2808759"
    },
    "unit_id3": {
      "name": "12oz Can",
      "owner": "facebook_719340624782538"
    },
    "unit_id4": {
      "name": "Case",
      "owner": "facebook_719340624782538"
    },
    "unit_id5": {
      "name": "12oz Can",
      "owner": "facebook_719340624782538"
    },
    "unit_id6": {
      "name": "Case",
      "owner": "facebook_719340624782538"
    }
  },

  /**
   * UNIT CONVERSIONS
   */
  "conversion": {
    "unit_id1": {
      "unit_id2": 5,
      "owner": "github_2808759"
    },
    "unit_id3": {
      "unit_id4": 12,
      "owner": "facebook_719340624782538"
    },
    "unit_id6": {
      "unit_id5": 0.08334,
      "owner": "facebook_719340624782538"
    }
  },

  /**
   * STORAGE PLANS
   */
  "plan": {
    "plan_id1": {
      "type": "basline",
      "amount": 6,
      "unit": "unit_id2",
      "owner": "github_2808759"
    },
    "plan_id2": {
      "type": "ration",
      "adult": {
        "amount": 2.5,
        "unit": "unit_id3",
        "time": "week"
      },
      "child": {
        "amount": 1.5,
        "unit": "unit_id3",
        "time": "week"
      },
      "owner": "facebook_719340624782538"
    },
    "plan_id3": {
      "type": "ration",
      "adult": {
        "amount": 2.5,
        "unit": "unit_id5",
        "time": "week"
      },
      "child": {
        "amount": 1.5,
        "unit": "unit_id5",
        "time": "week"
      },
      "owner": "facebook_719340624782538"
    }
  }

}
